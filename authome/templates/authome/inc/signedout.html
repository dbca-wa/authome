{% load i18n static %}
{% if auto_logout %}
    <div id="signedout_content" >
    </div>
    <script type="text/javascript">
        var logout_window = window.open('{{idp_logout_url}}',"DBCA SSO Auth Logout","location=no,menubar=no,resizable=no,scrollbars=no,status=no,titlebar=no,toolbar=no,width=1,height=1,top=1,left=1")
        if (logout_window) {
            logout_window.blur()
            window.focus()
            document.getElementById("signedout_content").innerHTML="<h3>Please waithing to signout from backend authentication provider '{{idp_name}}'... </h3>"
            setTimeout(function(){
                logout_window.close();
                document.getElementById("signedout_content").innerHTML=`
<h3>You have been signed out from DBCA.
{% if relogin %} 
<br><br>If you want to login again, Please click <A href="{{relogin}}">here</A> to login
{% endif %}
</h3>
`
            },3000)
        } else {
                document.getElementById("signedout_content").innerHTML=`
<h3>You have been signed out from DBCA.
<br><br>Failed to logout from the backend authentication provider '{{idp_name}}' because popup window was blocked..
<br><br>Please click <A href="{{idp_logout_url}}">here</A> to logout from {{idp_name}} for safety 
{% if relogin %} 
<br><br>If you want to login again, Please click <A href="{{relogin}}">here</A> to login
{% endif %}
</h3>
`
        }

    </script>
{% else %}
    <h3>You have been signed out from DBCA.
    {% if idp_logout_url %} 
        <br><br>But you still login to the backend authentication provider '{{idp_name}}'.
        <br><br>Please click <A href="{{idp_logout_url}}">here</A> to logout from {{idp_name}} for safety 
    {% endif %}
    {% if relogin %} 
    <br><br>If you want to login again, Please click <A href="{{relogin}}">here</A> to login
    {% endif %}
   </h3>
{% endif %}
